{
        "asyncapi": "3.0.0",
        "info": {
                "title": "Waves Streaming Text-to-Speech API",
                "version": "1.0.0",
                "description": "WebSocket-based streaming text-to-speech API with real-time synthesis for low-latency applications",
                "contact": {
                        "name": "Waves API Support",
                        "url": "https://waves-api.smallest.ai/support",
                        "email": "support@smallest.ai"
                },
                "license": {
                        "name": "Proprietary"
                }
        },
        "servers": {
                "production": {
                        "host": "waves-api.smallest.ai",
                        "pathname": "/api/v1/streaming-tts/stream",
                        "protocol": "wss",
                        "description": "Production WebSocket API endpoint for streaming TTS",
                        "security": [
                                {
                                        "$ref": "#/components/securitySchemes/bearerAuth"
                                }
                        ]
                }
        },
        "channels": {
                "/api/v1/streaming-tts/stream": {
                        "address": "/api/v1/streaming-tts/stream",
                        "messages": {
                                "streamingTTSRequest.message": {
                                        "name": "StreamingTTSRequest",
                                        "contentType": "application/json",
                                        "payload": {
                                                "type": "object",
                                                "required": [
                                                        "voice_id",
                                                        "text"
                                                ],
                                                "properties": {
                                                        "voice_id": {
                                                                "type": "string",
                                                                "description": "Voice identifier (e.g., 'aditi', 'male-1', 'female-2')",
                                                                "examples": [
                                                                        "aditi",
                                                                        "ryan",
                                                                        "male-1",
                                                                        "female-2"
                                                                ]
                                                        },
                                                        "text": {
                                                                "type": "string",
                                                                "description": "The text to convert to speech. Can be sent incrementally for streaming input."
                                                        },
                                                        "is_streaming": {
                                                                "type": "boolean",
                                                                "description": "Indicates if this is part of a streaming text input sequence",
                                                                "default": false
                                                        },
                                                        "is_final": {
                                                                "type": "boolean",
                                                                "description": "Indicates if this is the final chunk in a streaming sequence",
                                                                "default": true
                                                        },
                                                        "language": {
                                                                "type": "string",
                                                                "description": "Language code for synthesis",
                                                                "default": "en",
                                                                "enum": [
                                                                        "en",
                                                                        "hi",
                                                                        "mr",
                                                                        "kn",
                                                                        "ta",
                                                                        "bn",
                                                                        "gu",
                                                                        "de",
                                                                        "fr",
                                                                        "es",
                                                                        "it",
                                                                        "pl",
                                                                        "nl",
                                                                        "ru",
                                                                        "ar",
                                                                        "he"
                                                                ]
                                                        },
                                                        "sample_rate": {
                                                                "type": "integer",
                                                                "description": "Audio sample rate in Hz",
                                                                "default": 24000,
                                                                "enum": [
                                                                        16000,
                                                                        22050,
                                                                        24000,
                                                                        44100,
                                                                        48000
                                                                ]
                                                        },
                                                        "speed": {
                                                                "type": "number",
                                                                "description": "Speech speed multiplier (0.5 = half speed, 1.0 = normal speed, 2.0 = double speed)",
                                                                "minimum": 0.1,
                                                                "maximum": 5.0,
                                                                "default": 1.0
                                                        },
                                                        "consistency": {
                                                                "type": "number",
                                                                "description": "Voice consistency parameter for maintaining voice characteristics",
                                                                "minimum": 0.0,
                                                                "maximum": 1.0,
                                                                "default": 0.5
                                                        },
                                                        "enhancement": {
                                                                "type": "integer",
                                                                "description": "Audio enhancement level for improved quality",
                                                                "minimum": 0,
                                                                "maximum": 2,
                                                                "default": 1
                                                        },
                                                        "similarity": {
                                                                "type": "number",
                                                                "description": "Voice similarity parameter for voice matching",
                                                                "minimum": 0.0,
                                                                "maximum": 1.0,
                                                                "default": 0.0
                                                        },
                                                        "max_buffer_flush_ms": {
                                                                "type": "integer",
                                                                "description": "Maximum buffer time in milliseconds before forcing audio output for low-latency applications",
                                                                "minimum": 0,
                                                                "maximum": 5000,
                                                                "default": 0
                                                        }
                                                },
                                                "examples": [
                                                        {
                                                                "voice_id": "aditi",
                                                                "text": "Hello world, this is a test of the Smallest AI streaming TTS.",
                                                                "is_streaming": false,
                                                                "is_final": true,
                                                                "language": "en",
                                                                "sample_rate": 24000,
                                                                "speed": 1.0,
                                                                "consistency": 0.5,
                                                                "enhancement": 1,
                                                                "similarity": 0.0,
                                                                "max_buffer_flush_ms": 100
                                                        },
                                                        {
                                                                "voice_id": "aditi",
                                                                "text": "Streaming ",
                                                                "is_streaming": true,
                                                                "is_final": false,
                                                                "language": "en",
                                                                "sample_rate": 24000,
                                                                "speed": 1.0,
                                                                "max_buffer_flush_ms": 100
                                                        }
                                                ]
                                        }
                                },
                                "streamingTTSResponse.message": {
                                        "name": "StreamingTTSResponse",
                                        "contentType": "application/json",
                                        "payload": {
                                                "type": "object",
                                                "properties": {
                                                        "request_id": {
                                                                "type": "string",
                                                                "description": "Unique identifier for the streaming TTS request"
                                                        },
                                                        "status": {
                                                                "type": "string",
                                                                "enum": [
                                                                        "chunk",
                                                                        "complete",
                                                                        "error"
                                                                ],
                                                                "description": "Status of the streaming TTS request: 'chunk' for audio data, 'complete' for end of stream, 'error' for failures"
                                                        },
                                                        "data": {
                                                                "type": "object",
                                                                "properties": {
                                                                        "audio": {
                                                                                "type": "string",
                                                                                "description": "Base64-encoded PCM audio chunk (raw audio data)"
                                                                        },
                                                                        "format": {
                                                                                "type": "string",
                                                                                "description": "Audio format specification",
                                                                                "default": "pcm_16bit_mono"
                                                                        },
                                                                        "sample_rate": {
                                                                                "type": "integer",
                                                                                "description": "Sample rate of the audio chunk",
                                                                                "default": 24000
                                                                        }
                                                                }
                                                        },
                                                        "error": {
                                                                "type": "object",
                                                                "properties": {
                                                                        "message": {
                                                                                "type": "string",
                                                                                "description": "Error message description"
                                                                        },
                                                                        "code": {
                                                                                "type": "string",
                                                                                "description": "Error code identifier"
                                                                        }
                                                                }
                                                        }
                                                }
                                        }
                                }
                        }
                }
        },
        "operations": {
                "streamingTTSRequest": {
                        "action": "receive",
                        "channel": {
                                "$ref": "#/channels/~1api~1v1~1streaming-tts~1stream"
                        },
                        "summary": "Send streaming text-to-speech request",
                        "description": "Send text for real-time synthesis with configurable streaming parameters. Supports both single requests and incremental streaming input.",
                        "messages": [
                                {
                                        "$ref": "#/channels/~1api~1v1~1streaming-tts~1stream/messages/streamingTTSRequest.message"
                                }
                        ]
                },
                "streamingTTSResponse": {
                        "action": "send",
                        "channel": {
                                "$ref": "#/channels/~1api~1v1~1streaming-tts~1stream"
                        },
                        "summary": "Receive streaming audio chunks",
                        "description": "Receive real-time PCM audio chunks as they are synthesized. Audio can be played immediately or saved to files.",
                        "messages": [
                                {
                                        "$ref": "#/channels/~1api~1v1~1streaming-tts~1stream/messages/streamingTTSResponse.message"
                                }
                        ]
                }
        },
        "components": {
                "securitySchemes": {
                        "bearerAuth": {
                                "type": "http",
                                "scheme": "bearer",
                                "bearerFormat": "JWT",
                                "description": "Bearer token authentication using Smallest AI API key"
                        }
                },
                "schemas": {
                        "AudioChunk": {
                                "type": "object",
                                "properties": {
                                        "request_id": {
                                                "type": "string",
                                                "description": "Unique identifier for the TTS request"
                                        },
                                        "status": {
                                                "type": "string",
                                                "enum": [
                                                        "chunk"
                                                ]
                                        },
                                        "data": {
                                                "type": "object",
                                                "properties": {
                                                        "audio": {
                                                                "type": "string",
                                                                "description": "Base64-encoded PCM audio chunk"
                                                        },
                                                        "format": {
                                                                "type": "string",
                                                                "description": "Audio format (PCM 16-bit mono)"
                                                        },
                                                        "sample_rate": {
                                                                "type": "integer",
                                                                "description": "Audio sample rate in Hz"
                                                        }
                                                },
                                                "required": [
                                                        "audio"
                                                ]
                                        }
                                },
                                "required": [
                                        "request_id",
                                        "status",
                                        "data"
                                ]
                        },
                        "CompletionStatus": {
                                "type": "object",
                                "properties": {
                                        "request_id": {
                                                "type": "string",
                                                "description": "Unique identifier for the TTS request"
                                        },
                                        "status": {
                                                "type": "string",
                                                "enum": [
                                                        "complete"
                                                ],
                                                "description": "Indicates that the streaming synthesis is complete"
                                        }
                                },
                                "required": [
                                        "request_id",
                                        "status"
                                ]
                        },
                        "ErrorResponse": {
                                "type": "object",
                                "properties": {
                                        "request_id": {
                                                "type": "string",
                                                "description": "Unique identifier for the failed request"
                                        },
                                        "status": {
                                                "type": "string",
                                                "enum": [
                                                        "error"
                                                ]
                                        },
                                        "error": {
                                                "type": "object",
                                                "properties": {
                                                        "message": {
                                                                "type": "string",
                                                                "description": "Human-readable error message"
                                                        },
                                                        "code": {
                                                                "type": "string",
                                                                "description": "Machine-readable error code"
                                                        }
                                                },
                                                "required": [
                                                        "message",
                                                        "code"
                                                ]
                                        }
                                },
                                "required": [
                                        "request_id",
                                        "status",
                                        "error"
                                ]
                        },
                        "StreamingTTSConfig": {
                                "type": "object",
                                "description": "Configuration object for streaming TTS synthesis",
                                "properties": {
                                        "voice_id": {
                                                "type": "string",
                                                "description": "Voice identifier"
                                        },
                                        "language": {
                                                "type": "string",
                                                "description": "Language code"
                                        },
                                        "sample_rate": {
                                                "type": "integer",
                                                "description": "Audio sample rate in Hz"
                                        },
                                        "speed": {
                                                "type": "number",
                                                "description": "Speech speed multiplier"
                                        },
                                        "consistency": {
                                                "type": "number",
                                                "description": "Voice consistency parameter"
                                        },
                                        "enhancement": {
                                                "type": "integer",
                                                "description": "Audio enhancement level"
                                        },
                                        "similarity": {
                                                "type": "number",
                                                "description": "Voice similarity parameter"
                                        },
                                        "max_buffer_flush_ms": {
                                                "type": "integer",
                                                "description": "Maximum buffer time before forcing output"
                                        }
                                },
                                "required": [
                                        "voice_id"
                                ]
                        }
                }
        }
}