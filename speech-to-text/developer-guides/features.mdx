---
title: 'Feature Overview'
description: 'Enable diarization, age, gender, and emotion detection with query parameters'
---

# Lightning ASR features

> Enable advanced metadata in your POST requests by specifying additional query parameters.

All Lightning ASR enrichment options are controlled via query string parameters, allowing you to customize feature activation on a per-request basisâ€” egardless of whether you are uploading raw audio bytes or providing a hosted audio URL.

## Summary

| Feature | Parameter | Description |
| --- | --- | --- |
| Speaker diarization | `diarize` | Labels each word/utterance with `speaker_0`, `speaker_1`, etc. |
| Age detection | `age_detection` | Classifies dominant speaker as `infant`, `teenager`, `adult`, or `old`. |
| Gender detection | `gender_detection` | Predicts speaker gender (`male` / `female`). |
| Emotion detection | `emotion_detection` | Returns happiness, sadness, disgust, fear, and anger scores. |

A request that enables all four features looks like:

```bash
curl --request POST \
  --url "https://waves-api.smallest.ai/api/v1/lightning/get_text?model=lightning&language=en&word_timestamps=true&diarize=true&age_detection=true&gender_detection=true&emotion_detection=true" \
  --header "Authorization: Bearer $SMALLEST_API_KEY" \
  --header "Content-Type: audio/wav" \
  --data-binary "@/path/to/audio.wav"
```

### Usage overview

## Speaker diarization

Add `diarize=true` to split transcripts by speaker.

```bash
curl --request POST \
  --url "https://waves-api.smallest.ai/api/v1/lightning/get_text?model=lightning&language=en&diarize=true" \
  --header "Authorization: Bearer $SMALLEST_API_KEY" \
  --header "Content-Type: audio/wav" \
  --data-binary "@/path/to/audio.wav"
```

The response will include `word_timestamps[*].speaker` plus an `utterances` array with speaker labels.

## Age detection

Add `age_detection=true` to classify each speaker as `infant`, `teenager`, `adult`, or `old`.

```bash
curl --request POST \
  --url "https://waves-api.smallest.ai/api/v1/lightning/get_text?model=lightning&language=en&age_detection=true" \
  --header "Authorization: Bearer $SMALLEST_API_KEY" \
  --header "Content-Type: audio/wav" \
  --data-binary "@/path/to/audio.wav"
```

Each response includes an `age` field alongside transcript metadata.

## Gender detection

Add `gender_detection=true` to classify speakers as `male` or `female`.

```bash
curl --request POST \
  --url "https://waves-api.smallest.ai/api/v1/lightning/get_text?model=lightning&language=en&gender_detection=true" \
  --header "Authorization: Bearer $SMALLEST_API_KEY" \
  --header "Content-Type: audio/wav" \
  --data-binary "@/path/to/audio.wav"
```

The `gender` field appears at the top level of the JSON response.

## Emotion detection

Add `emotion_detection=true` to receive per-emotion scores (happiness, sadness, disgust, fear, anger).

```bash
curl --request POST \
  --url "https://waves-api.smallest.ai/api/v1/lightning/get_text?model=lightning&language=en&emotion_detection=true" \
  --header "Authorization: Bearer $SMALLEST_API_KEY" \
  --header "Content-Type: audio/wav" \
  --data-binary "@/path/to/audio.wav"
```

The `emotions` object contains floating-point scores between 0 and 1.

## Combine features

Mix any subset of parameters depending on your use case:

- Compliance pipelines: `diarize=true&word_timestamps=true`
- Contact-center analytics: `diarize=true&emotion_detection=true`
- Demographic insights: `age_detection=true&gender_detection=true`

Because all options live in the query string, you can toggle them per request without changing your POST body.


